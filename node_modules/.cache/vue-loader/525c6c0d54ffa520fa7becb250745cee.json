{"remainingRequest":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/src/views/CoinDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/src/views/CoinDetail.vue","mtime":1589777553246},{"path":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juanfelipelara/Documents/Platzi/Vue JS/Basico/platzi-exchange/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAiQC9hcGkiOwppbXBvcnQgUHhCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL1B4QnV0dG9uLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvaW5EZXRhaWwiLAoKICBjb21wb25lbnRzOiB7IFB4QnV0dG9uIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhc3NldDoge30sCiAgICAgIGhpc3Rvcnk6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpc0xvYWRpbmcyOiBmYWxzZSwKICAgICAgbWFya2V0czogW10KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDb2luKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgbWF4KCkgewogICAgICByZXR1cm4gTWF0aC5tYXgoCiAgICAgICAgLi4udGhpcy5oaXN0b3J5Lm1hcChoID0+IHBhcnNlRmxvYXQoaC5wcmljZVVzZCkudG9GaXhlZCgyKSkKICAgICAgKTsKICAgIH0sCiAgICBtaW4oKSB7CiAgICAgIHJldHVybiBNYXRoLm1pbigKICAgICAgICAuLi50aGlzLmhpc3RvcnkubWFwKGggPT4gcGFyc2VGbG9hdChoLnByaWNlVXNkKS50b0ZpeGVkKDIpKQogICAgICApOwogICAgfSwKICAgIGF2ZygpIHsKICAgICAgcmV0dXJuIE1hdGguYWJzKAogICAgICAgIC4uLnRoaXMuaGlzdG9yeS5tYXAoaCA9PiBwYXJzZUZsb2F0KGgucHJpY2VVc2QpLnRvRml4ZWQoMikpCiAgICAgICk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRXZWJTaXRlKGV4Y2hhbmdlKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nMiA9IHRydWU7CiAgICAgIHJldHVybiBhcGkKICAgICAgICAuZ2V0RXhjaGFuZ2UoZXhjaGFuZ2UuZXhjaGFuZ2VJZCkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy4kc2V0KGV4Y2hhbmdlLCAidXJsIiwgcmVzLmV4Y2hhbmdlVXJsKTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmlzTG9hZGluZzIgPSBmYWxzZSkpOwogICAgfSwKICAgIGdldENvaW4oKSB7CiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIFByb21pc2UuYWxsKFsKICAgICAgICBhcGkuZ2V0QXNzZXQoaWQpLAogICAgICAgIGFwaS5nZXRBc3NldEhpc3RvcnkoaWQpLAogICAgICAgIGFwaS5nZXRNYXJrZXRzKGlkKQogICAgICBdKQogICAgICAgIC50aGVuKChbYXNzZXQsIGhpc3RvcnksIG1hcmtldHNdKSA9PiB7CiAgICAgICAgICB0aGlzLmFzc2V0ID0gYXNzZXQ7CiAgICAgICAgICB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5OwogICAgICAgICAgdGhpcy5tYXJrZXRzID0gbWFya2V0czsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+ICh0aGlzLmlzTG9hZGluZyA9IGZhbHNlKSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["CoinDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CoinDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"flex-col\">\n    <div class=\"flex justify-center\">\n      <clip-loader :loading=\"isLoading\" :color=\"'#68d391'\" :size=\"100\" />\n    </div>\n    <template v-if=\"!isLoading\">\n      <div class=\"flex flex-col sm:flex-row justify-around items-center\">\n        <div class=\"flex flex-col items-center\">\n          <img\n            :alt=\"asset.name\"\n            :src=\"\n              `https://static.coincap.io/assets/icons/${asset.symbol.toLowerCase()}@2x.png`\n            \"\n            class=\"w-20 h-20 mr-5\"\n          />\n          <h1 class=\"text-5xl\">\n            {{ asset.name }}\n            <small class=\"sm:mr-2 text-gray-500\">{{ asset.symbol }}</small>\n          </h1>\n        </div>\n        <div class=\"my-10 flex flex-col\">\n          <ul>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Ranking</b>\n              <span>#{{ asset.rank }}</span>\n            </li>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Precio Actual </b>\n              <span> {{ asset.priceUsd | dollar }}</span>\n            </li>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Precio mas Bajo</b>\n              <span>{{ min | dollar }}</span>\n            </li>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Precio mas Alto</b>\n              <span> {{ max | dollar }} </span>\n            </li>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Precio Promedio</b>\n              <span>{{ avg | dollar }}</span>\n            </li>\n            <li class=\"flex justify-between\">\n              <b class=\"text-gray-600 mr-10 uppercase\">Variacion 24 Hrs</b>\n              <span>{{ asset.changePercent24Hr | percent }}</span>\n            </li>\n          </ul>\n        </div>\n        <div class=\"my-10 sm:mt-0 flex flex-col justify-center text-center\">\n          <button\n            class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            Cambiar\n          </button>\n          <div class=\"flex flex-row my-5\">\n            <label class=\"w-full\" for=\"convertValue\">\n              <input\n                type=\"number\"\n                id=\"convertValue\"\n                class=\"text-center bg-white focus:outline-none focus:shadow-outline border\"\n              />\n            </label>\n          </div>\n          <span class=\"text-xl\"></span>\n        </div>\n      </div>\n      <line-chart\n        class=\"my-10\"\n        :colors=\"['orange']\"\n        :min=\"min\"\n        :max=\"max\"\n        :data=\"history.map(h => [h.date, parseFloat(h.priceUsd).toFixed(2)])\"\n      />\n\n      <h3 class=\"text-xl my-10\">\n        Mejores Ofertas de Cambio\n      </h3>\n      <table>\n        <tr\n          v-for=\"m in markets\"\n          :key=\"`${m.exchange}-${m.priceUsd}`\"\n          class=\"border-b\"\n        >\n          <td>\n            <b>{{ m.exchangeId }}</b>\n          </td>\n          <td>{{ m.priceUsd | dollar }}</td>\n          <td>{{ m.baseSymbol }} / {{ m.quoteSymbol }}</td>\n          <td>\n            <px-button\n              :loading=\"m.isLoading2 || false\"\n              v-if=\"!m.url\"\n              @custom-click=\"getWebSite(m)\"\n            >\n              <slot>Obtener Link</slot>\n            </px-button>\n            <beat-loader\n              v-else\n              :loading=\"isLoading2\"\n              :color=\"'#68d391'\"\n              :size=\"8\"\n            />\n            <a\n              v-if=\"m.url\"\n              class=\"hover:underline text-green-600\"\n              target=\"_black\"\n            >\n              {{ m.url }}</a\n            >\n            <!-- <a v-else class=\"hover:underline text-green-600\" target=\"_black\"> {{ m.url }}</a> -->\n          </td>\n        </tr>\n      </table>\n    </template>\n  </div>\n</template>\n\n<script>\nimport api from \"@/api\";\nimport PxButton from \"@/components/PxButton.vue\";\n\nexport default {\n  name: \"CoinDetail\",\n\n  components: { PxButton },\n\n  data() {\n    return {\n      asset: {},\n      history: [],\n      isLoading: false,\n      isLoading2: false,\n      markets: []\n    };\n  },\n  created() {\n    this.getCoin();\n  },\n  computed: {\n    max() {\n      return Math.max(\n        ...this.history.map(h => parseFloat(h.priceUsd).toFixed(2))\n      );\n    },\n    min() {\n      return Math.min(\n        ...this.history.map(h => parseFloat(h.priceUsd).toFixed(2))\n      );\n    },\n    avg() {\n      return Math.abs(\n        ...this.history.map(h => parseFloat(h.priceUsd).toFixed(2))\n      );\n    }\n  },\n  methods: {\n    getWebSite(exchange) {\n      this.isLoading2 = true;\n      return api\n        .getExchange(exchange.exchangeId)\n        .then(res => {\n          this.$set(exchange, \"url\", res.exchangeUrl);\n        })\n        .finally(() => (this.isLoading2 = false));\n    },\n    getCoin() {\n      const id = this.$route.params.id;\n      this.isLoading = true;\n      Promise.all([\n        api.getAsset(id),\n        api.getAssetHistory(id),\n        api.getMarkets(id)\n      ])\n        .then(([asset, history, markets]) => {\n          this.asset = asset;\n          this.history = history;\n          this.markets = markets;\n        })\n        .finally(() => (this.isLoading = false));\n    }\n  }\n};\n</script>\n"]}]}